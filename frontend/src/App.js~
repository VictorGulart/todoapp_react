// REACT IMPORTS
import React, { useContext, createContext, useState, useEffect } from "react";
import ReactDOM from 'react-dom';
import {
    BrowserRouter as Router,
    Switch,
    Route,
    Link,
    Redirect,
    useHistory,
    useLocation,
} from "react-router-dom";

// APP imports
import "./styles/App.css";
import NavBar from "./components/nav_bar/nav_bar.js";
import ListsDislay from "./components/lists_display/lists_display.js";
import {
    ProvideAuth,
    PrivateRoute,
    LoginPage,
    RegisterPage,
    useAuth,
} from "./components/auth/auth.js";

// FIGMA PAGE TRY OUT
// https://www.figma.com/file/1HQmWN7MPFNZGqCHTSbPBQ/TASK-LISTS-PROJECT?node-id=0%3A1

function Messages() {
    const auth = useAuth();

    const messages = [];

    useEffect(() => {
        auth.messages.map((message) => {
            messages.push(<div className="div">{message}</div>);
        });
    }, [auth.messages]);

    return (
        <div className="message">
            <span></span>
        </div>
    );
}

function App(  ) {
    // Fetching is going to be done here

    useEffect(() => {});

    return (
        <ProvideAuth>
            <div className="App">
                <Messages />
                <Router>
                    <Switch>
                        <PrivateRoute exact path="/">
                            <NavBar />
                            <ListsDislay />
                        </PrivateRoute>
                        <Route path="/login">
                            <LoginPage />
                        </Route>
                        <Route path="/register">
                            <RegisterPage />
                        </Route>
                    </Switch>
                </Router>
            </div>
        </ProvideAuth>
    );
}


ReactDOM.render(
	<App />,
	document.getElementById("root")
);
